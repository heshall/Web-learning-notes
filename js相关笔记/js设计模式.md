## 面向对象

- **继承**

- **封装**  关键字：public公共  protected子类  private私有

  封装数据：js用函数作用域模拟public，private对数据权限做封装

  实现：js函数对象封装内部行为，对象间只通过接口API通信，松散耦合

  类型：静态类型语言把类型隐藏到**抽象类**或接口后面，从而只关心对象的行为，js弱类型无需做这些

  变化：

- **多态**  **把过程化的条件语句分支转化为对象的多态性** 面向对象而不是过程

- **面向对象**：把数据结构化，便于机器识别 

### 类图UML

- https://www.processon.com/
- 泛化：表示继承
- 关联：表示引用

![UML类图](/Users/wangwenjian/Desktop/学习/学习笔记/Typora/Web-learning-notes/md引入图片/UML类图.png)

## 设计原则

### SOLID五大原则

- **单一职责原则**

  小而美，一个程序只做好一件事，过于复杂，部分拆分保持独立

- **开放封闭原则**

  对扩展开发，对修改封闭。增加需求，扩展新代码而不是修改已有代码

- **李氏置换原则**

  子类覆盖父类，父类能出现的地方子类也能出现

- **接口独立原则**

  保持接口单一独立，避免“胖接口”（一个接口揽很多事）

- **依赖导致原则**

  面向接口编程，依赖抽象而不依赖具体，只关注接口而不关注具体类的实现

## 设计模式

- **创建型**

  工厂，单例，模型

- **结构型**

   适配器，装饰器，代理，外观；桥接，组合，享元 

- **行为型** 

## 工厂模式

-  制造一个工厂类返回一个new后的对象，对构造函数的内容进行封装

- 例如jquery的\$，\$('div')时返回一个对象，使用时看不到new过程，把实例化过程封装在\$函数下，把\$添加到window原型上，使用方便 

- jq的链式操作，每个方法最后都返回当前的获取的节点对象

- ```javascript
  function(div){
      return new jQuery(div)
  }
  ```

## 单例模式

- 只允许new一个实例

- 这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

- 场景vuex store，属于不同模块间的公用的类，存储公共的数据，不同组件中大量调用数据为保证效率和共同性不能每次都实例化新对象，而是用单例模式限制只能实例化一次

- ```javascript
  // 因为js不能直接声明私有类，通过父类本身的方法实例化类本身，并限制只能实例化一次
  // 用闭包保存instance每次实例化状态，只有未被实例化过才进行实例化否则直接返回上次实例化结果
  class BoxObj {
          conse () {
            console.log('父类方法')
          }
        }
        BoxObj.init = (function () {
            // 闭包，直接待执行函数，保留函数作用域内存不会销毁，instance值一直保留
          let instance
          return function () {
            if (!instance) {
              instance = new BoxObj()
            }
            return instance
          }
        })()
        let obj1 = BoxObj.init()
        let obj2 = BoxObj.init()
        console.log(obj1 === obj2)
        obj1.conse()
      }
  ```

## 适配器模式

- 旧接口和用户分离，对旧接口与用户之间做转接适配器
- 场景：vue中使用封装jq的ajax

## 装饰器模式

- 允许向一个现有的对象添加新的功能，同时又不改变其结构，它是作为现有的类的一个包装。

- **ES6装饰器**

  **定义**：修饰器是一个对类进行处理的函数，用来修改类的行为